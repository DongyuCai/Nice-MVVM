<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>test</title>
</head>
<body>
	<button onclick="start()"> add</button>
	<input nc-value="age[0].thisYear" />
	{{age[0].thisYear}}
	<p nc-for="  row   in  age  ">
		{{row.last}},{{row.thisYear}}
	</p>
	<button onclick="remove()">remove</button>
</body>
<script type="text/javascript" src="nice-mvvm.js"></script>
<script type="text/javascript">

	var $nc = {
		'user':{
			count:1	
		},
		age:[
			{
				last:1,
				thisYear:2
			},
			{
				last:3,
				thisYear:4
			}
		]
	};

	function start(){
		$nc.age.push({
			last:1,
			thisYear:2
		});
	}

	function remove(){
		$nc.age.pop();
	}


	var a={
		name:'abc',
		age:12,
		parent:{
			father:'tom',
			mother:'li',
			brother:[
				{
					sister:'shiri'
				},
				{
					sister:'shiri'
				}
			]
		}
	};

	var b={};


	function getDef(aObj,bObj){
		var valMap = {};
		getValMap("root",a,valMap);
		console.log(valMap);
	}

	function getValMap(pKey,obj,valMap){
		if(obj instanceof Object){
			for(var key in obj){
				getValMap(pKey+"."+key,obj[key],valMap);
			}
		} else if(obj instanceof Array){
			for(var i=0;i<obj.length;i++){
				getValMap(pKey+"["+i+"]",obj[i],valMap);
			}
		} else {
			valMap[pKey]=obj;
		}
	}
</script>


</html>